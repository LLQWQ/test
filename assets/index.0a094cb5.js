import{as as he,at as Ce,au as Ve,r as P,av as Xe,K as Ze,U as $e,V as ke,T as Ie,e as X,h as Z,aw as Re,z as oe,j as T,ax as Be,f as _e,$ as Fe,W as B,Y as be,b as y,n as H,m as Ae,ak as N,ay as le,az as q,i as J,v as W,a0 as ge,aA as Ue,s as Pe,aB as ze,aC as Ke,aD as je,a1 as me,a2 as Oe,aE as Ee,aF as j,a7 as L,p as qe,aG as de,aH as fe,l as ye,aq as Je,ah as Ge,aI as xe,A as Qe,C as pe,J as et,aJ as tt,x as Me,g as nt,y as at,a3 as it,R as lt,S as ot}from"./index.3da0c870.js";import{b as st,u as De}from"./index.13da9dbd.js";import{u as G}from"./use-lazy-render.efebbb5a.js";function rt(e,r,u){let o=0;const a=e.scrollLeft,t=u===0?1:Math.round(u*1e3/16);function d(){e.scrollLeft+=(r-a)/t,++o<t&&he(d)}d()}function ct(e,r,u,o){let a=Ce(e);const t=a<r,d=u===0?1:Math.round(u*1e3/16),g=(r-a)/d;function f(){a+=g,(t&&a>r||!t&&a<r)&&(a=r),Ve(e,a),t&&a<r||!t&&a>r?he(f):o&&he(o)}f()}function ut(){const e=P([]),r=[];return Xe(()=>{e.value=[]}),[e,o=>(r[o]||(r[o]=a=>{e.value[o]=a}),r[o])]}function Ne(e,r){if(!Ze||!window.IntersectionObserver)return;const u=new IntersectionObserver(t=>{r(t[0].intersectionRatio>0)},{root:document.body}),o=()=>{e.value&&u.observe(e.value)},a=()=>{e.value&&u.unobserve(e.value)};$e(a),ke(a),Ie(o)}const[dt,ft]=X("sticky"),vt={zIndex:H,position:Ae("top"),container:Object,offsetTop:N(0),offsetBottom:N(0)};var ht=Z({name:dt,props:vt,emits:["scroll","change"],setup(e,{emit:r,slots:u}){const o=P(),a=Re(o),t=oe({fixed:!1,width:0,height:0,transform:0}),d=T(()=>Be(e.position==="top"?e.offsetTop:e.offsetBottom)),g=T(()=>{const{fixed:c,height:m,width:C}=t;if(c)return{width:`${C}px`,height:`${m}px`}}),f=T(()=>{if(!t.fixed)return;const c=_e(Fe(e.zIndex),{width:`${t.width}px`,height:`${t.height}px`,[e.position]:`${d.value}px`});return t.transform&&(c.transform=`translate3d(0, ${t.transform}px, 0)`),c}),w=c=>r("scroll",{scrollTop:c,isFixed:t.fixed}),l=()=>{if(!o.value||le(o))return;const{container:c,position:m}=e,C=q(o),b=Ce(window);if(t.width=C.width,t.height=C.height,m==="top")if(c){const k=q(c),v=k.bottom-d.value-t.height;t.fixed=d.value>C.top&&k.bottom>0,t.transform=v<0?v:0}else t.fixed=d.value>C.top;else{const{clientHeight:k}=document.documentElement;if(c){const v=q(c),z=k-v.top-d.value-t.height;t.fixed=k-d.value<C.bottom&&k>v.top,t.transform=z<0?-z:0}else t.fixed=k-d.value<C.bottom}w(b)};return B(()=>t.fixed,c=>r("change",c)),be("scroll",l,{target:a,passive:!0}),Ne(o,l),()=>{var c;return y("div",{ref:o,style:g.value},[y("div",{class:ft({fixed:t.fixed}),style:f.value},[(c=u.default)==null?void 0:c.call(u)])])}}});const gt=J(ht),[bt,Se]=X("tab");var mt=Z({name:bt,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:H,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:W},setup(e,{slots:r}){const u=T(()=>{const a={},{type:t,color:d,disabled:g,isActive:f,activeColor:w,inactiveColor:l}=e;d&&t==="card"&&(a.borderColor=d,g||(f?a.backgroundColor=d:a.color=d));const m=f?w:l;return m&&(a.color=m),a}),o=()=>{const a=y("span",{class:Se("text",{ellipsis:!e.scrollable})},[r.title?r.title():e.title]);return e.dot||ge(e.badge)&&e.badge!==""?y(Ue,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[a]}):a};return()=>y("div",{id:e.id,role:"tab",class:[Se([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:u.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[o()])}});const[He,ae]=X("swipe"),wt={loop:W,width:H,height:H,vertical:Boolean,autoplay:N(0),duration:N(500),touchable:W,lazyRender:Boolean,initialSwipe:N(0),indicatorColor:String,showIndicators:W,stopPropagation:W},Le=Symbol(He);var yt=Z({name:He,props:wt,emits:["change","dragStart","dragEnd"],setup(e,{emit:r,slots:u}){const o=P(),a=P(),t=oe({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let d=!1;const g=st(),{children:f,linkChildren:w}=Pe(Le),l=T(()=>f.length),c=T(()=>t[e.vertical?"height":"width"]),m=T(()=>e.vertical?g.deltaY.value:g.deltaX.value),C=T(()=>t.rect?(e.vertical?t.rect.height:t.rect.width)-c.value*l.value:0),b=T(()=>c.value?Math.ceil(Math.abs(C.value)/c.value):l.value),k=T(()=>l.value*c.value),v=T(()=>(t.active+l.value)%l.value),z=T(()=>{const s=e.vertical?"vertical":"horizontal";return g.direction.value===s}),U=T(()=>{const s={transitionDuration:`${t.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${t.offset}px)`};if(c.value){const x=e.vertical?"height":"width",S=e.vertical?"width":"height";s[x]=`${k.value}px`,s[S]=e[S]?`${e[S]}px`:""}return s}),M=s=>{const{active:x}=t;return s?e.loop?de(x+s,-1,l.value):de(x+s,0,b.value):x},K=(s,x=0)=>{let S=s*c.value;e.loop||(S=Math.min(S,-C.value));let n=x-S;return e.loop||(n=de(n,C.value,0)),n},R=({pace:s=0,offset:x=0,emitChange:S})=>{if(l.value<=1)return;const{active:n}=t,i=M(s),h=K(i,x);if(e.loop){if(f[0]&&h!==C.value){const $=h<C.value;f[0].setOffset($?k.value:0)}if(f[l.value-1]&&h!==0){const $=h>0;f[l.value-1].setOffset($?-k.value:0)}}t.active=i,t.offset=h,S&&i!==n&&r("change",v.value)},Y=()=>{t.swiping=!0,t.active<=-1?R({pace:l.value}):t.active>=l.value&&R({pace:-l.value})},F=()=>{Y(),g.reset(),j(()=>{t.swiping=!1,R({pace:-1,emitChange:!0})})},_=()=>{Y(),g.reset(),j(()=>{t.swiping=!1,R({pace:1,emitChange:!0})})};let Q;const O=()=>clearTimeout(Q),E=()=>{O(),e.autoplay>0&&l.value>1&&(Q=setTimeout(()=>{_(),E()},+e.autoplay))},D=(s=+e.initialSwipe)=>{if(!o.value)return;const x=()=>{var S,n;if(!le(o)){const i={width:o.value.offsetWidth,height:o.value.offsetHeight};t.rect=i,t.width=+((S=e.width)!=null?S:i.width),t.height=+((n=e.height)!=null?n:i.height)}l.value&&(s=Math.min(l.value-1,s),s===-1&&(s=l.value-1)),t.active=s,t.swiping=!0,t.offset=K(s),f.forEach(i=>{i.setOffset(0)}),E()};le(o)?L().then(x):x()},p=()=>D(t.active);let ee;const se=s=>{!e.touchable||s.touches.length>1||(g.start(s),d=!1,ee=Date.now(),O(),Y())},re=s=>{e.touchable&&t.swiping&&(g.move(s),z.value&&(!e.loop&&(t.active===0&&m.value>0||t.active===l.value-1&&m.value<0)||(qe(s,e.stopPropagation),R({offset:m.value}),d||(r("dragStart",{index:v.value}),d=!0))))},te=()=>{if(!e.touchable||!t.swiping)return;const s=Date.now()-ee,x=m.value/s;if((Math.abs(x)>.25||Math.abs(m.value)>c.value/2)&&z.value){const n=e.vertical?g.offsetY.value:g.offsetX.value;let i=0;e.loop?i=n>0?m.value>0?-1:1:0:i=-Math[m.value>0?"ceil":"floor"](m.value/c.value),R({pace:i,emitChange:!0})}else m.value&&R({pace:0});d=!1,t.swiping=!1,r("dragEnd",{index:v.value}),E()},ce=(s,x={})=>{Y(),g.reset(),j(()=>{let S;e.loop&&s===l.value?S=t.active===0?0:s:S=s%l.value,x.immediate?j(()=>{t.swiping=!1}):t.swiping=!1,R({pace:S-t.active,emitChange:!0})})},ue=(s,x)=>{const S=x===v.value,n=S?{backgroundColor:e.indicatorColor}:void 0;return y("i",{style:n,class:ae("indicator",{active:S})},null)},ne=()=>{if(u.indicator)return u.indicator({active:v.value,total:l.value});if(e.showIndicators&&l.value>1)return y("div",{class:ae("indicators",{vertical:e.vertical})},[Array(l.value).fill("").map(ue)])};return G({prev:F,next:_,state:t,resize:p,swipeTo:ce}),w({size:c,props:e,count:l,activeIndicator:v}),B(()=>e.initialSwipe,s=>D(+s)),B(l,()=>D(t.active)),B(()=>e.autoplay,E),B([ze,Ke],p),B(je(),s=>{s==="visible"?E():O()}),me(D),Oe(()=>D(t.active)),Ee(()=>D(t.active)),$e(O),ke(O),be("touchmove",re,{target:a}),()=>{var s;return y("div",{ref:o,class:ae()},[y("div",{ref:a,style:U.value,class:ae("track",{vertical:e.vertical}),onTouchstartPassive:se,onTouchend:te,onTouchcancel:te},[(s=u.default)==null?void 0:s.call(u)]),ne()])}}});const xt=J(yt),[St,Te]=X("tabs");var Tt=Z({name:St,props:{count:fe(Number),inited:Boolean,animated:Boolean,duration:fe(H),swipeable:Boolean,lazyRender:Boolean,currentIndex:fe(Number)},emits:["change"],setup(e,{emit:r,slots:u}){const o=P(),a=g=>r("change",g),t=()=>{var g;const f=(g=u.default)==null?void 0:g.call(u);return e.animated||e.swipeable?y(xt,{ref:o,loop:!1,class:Te("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:a},{default:()=>[f]}):f},d=g=>{const f=o.value;f&&f.state.active!==g&&f.swipeTo(g,{immediate:!e.inited})};return B(()=>e.currentIndex,d),me(()=>{d(e.currentIndex)}),G({swipeRef:o}),()=>y("div",{class:Te("content",{animated:e.animated||e.swipeable})},[t()])}});const[We,ie]=X("tabs"),Ct={type:Ae("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:N(0),duration:N(.3),animated:Boolean,ellipsis:W,swipeable:Boolean,scrollspy:Boolean,offsetTop:N(0),background:String,lazyRender:W,lineWidth:H,lineHeight:H,beforeChange:Function,swipeThreshold:N(5),titleActiveColor:String,titleInactiveColor:String},Ye=Symbol(We);var $t=Z({name:We,props:Ct,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:r,slots:u}){let o,a,t;const d=P(),g=P(),f=P(),w=P(),l=De(),c=Re(d),[m,C]=ut(),{children:b,linkChildren:k}=Pe(Ye),v=oe({inited:!1,position:"",lineStyle:{},currentIndex:-1}),z=T(()=>b.length>e.swipeThreshold||!e.ellipsis||e.shrink),U=T(()=>({borderColor:e.color,background:e.background})),M=(n,i)=>{var h;return(h=n.name)!=null?h:i},K=T(()=>{const n=b[v.currentIndex];if(n)return M(n,v.currentIndex)}),R=T(()=>Be(e.offsetTop)),Y=T(()=>e.sticky?R.value+o:0),F=n=>{const i=g.value,h=m.value;if(!z.value||!i||!h||!h[v.currentIndex])return;const $=h[v.currentIndex].$el,I=$.offsetLeft-(i.offsetWidth-$.offsetWidth)/2;rt(i,I,n?0:+e.duration)},_=()=>{const n=v.inited;L(()=>{const i=m.value;if(!i||!i[v.currentIndex]||e.type!=="line"||le(d.value))return;const h=i[v.currentIndex].$el,{lineWidth:$,lineHeight:I}=e,A=h.offsetLeft+h.offsetWidth/2,V={width:ye($),backgroundColor:e.color,transform:`translateX(${A}px) translateX(-50%)`};if(n&&(V.transitionDuration=`${e.duration}s`),ge(I)){const we=ye(I);V.height=we,V.borderRadius=we}v.lineStyle=V})},Q=n=>{const i=n<v.currentIndex?-1:1;for(;n>=0&&n<b.length;){if(!b[n].disabled)return n;n+=i}},O=(n,i)=>{const h=Q(n);if(!ge(h))return;const $=b[h],I=M($,h),A=v.currentIndex!==null;v.currentIndex!==h&&(v.currentIndex=h,i||F(),_()),I!==e.active&&(r("update:active",I),A&&r("change",I,$.title)),t&&!e.scrollspy&&Ge(Math.ceil(xe(d.value)-R.value))},E=(n,i)=>{const h=b.find((I,A)=>M(I,A)===n),$=h?b.indexOf(h):0;O($,i)},D=(n=!1)=>{if(e.scrollspy){const i=b[v.currentIndex].$el;if(i&&c.value){const h=xe(i,c.value)-Y.value;a=!0,ct(c.value,h,n?0:+e.duration,()=>{a=!1})}}},p=(n,i,h)=>{const{title:$,disabled:I}=b[i],A=M(b[i],i);I||(et(e.beforeChange,{args:[A],done:()=>{O(i),D()}}),tt(n)),r("clickTab",{name:A,title:$,event:h,disabled:I})},ee=n=>{t=n.isFixed,r("scroll",n)},se=n=>{L(()=>{E(n),D(!0)})},re=()=>{for(let n=0;n<b.length;n++){const{top:i}=q(b[n].$el);if(i>Y.value)return n===0?0:n-1}return b.length-1},te=()=>{if(e.scrollspy&&!a){const n=re();O(n)}},ce=()=>b.map((n,i)=>y(mt,Qe({key:n.id,id:`${l}-${i}`,ref:C(i),type:e.type,color:e.color,style:n.titleStyle,class:n.titleClass,shrink:e.shrink,isActive:i===v.currentIndex,controls:n.id,scrollable:z.value,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor,onClick:h=>p(n,i,h)},pe(n,["dot","badge","title","disabled","showZeroBadge"])),{title:n.$slots.title})),ue=()=>{if(e.type==="line"&&b.length)return y("div",{class:ie("line"),style:v.lineStyle},null)},ne=()=>{var n,i,h;const{type:$,border:I,sticky:A}=e,V=[y("div",{ref:A?void 0:f,class:[ie("wrap"),{[Je]:$==="line"&&I}]},[y("div",{ref:g,role:"tablist",class:ie("nav",[$,{shrink:e.shrink,complete:z.value}]),style:U.value,"aria-orientation":"horizontal"},[(n=u["nav-left"])==null?void 0:n.call(u),ce(),ue(),(i=u["nav-right"])==null?void 0:i.call(u)])]),(h=u["nav-bottom"])==null?void 0:h.call(u)];return A?y("div",{ref:f},[V]):V};B([()=>e.color,ze],_),B(()=>e.active,n=>{n!==K.value&&E(n)}),B(()=>b.length,()=>{v.inited&&(E(e.active),_(),L(()=>{F(!0)}))});const s=()=>{E(e.active,!0),L(()=>{v.inited=!0,f.value&&(o=q(f.value).height),F(!0)})},x=(n,i)=>r("rendered",n,i);return G({resize:()=>{_(),L(()=>{var n,i;return(i=(n=w.value)==null?void 0:n.swipeRef.value)==null?void 0:i.resize()})},scrollTo:se}),Oe(_),Ee(_),Ie(s),Ne(d,_),be("scroll",te,{target:c,passive:!0}),k({id:l,props:e,setLine:_,onRendered:x,currentName:K,scrollIntoView:F}),()=>y("div",{ref:d,class:ie([e.type])},[e.sticky?y(gt,{container:d.value,offsetTop:R.value,onScroll:ee},{default:()=>[ne()]}):ne(),y(Tt,{ref:w,count:b.length,inited:v.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:v.currentIndex,onChange:O},{default:()=>{var n;return[(n=u.default)==null?void 0:n.call(u)]}})])}});const kt=Symbol(),[It,Rt]=X("swipe-item");var Bt=Z({name:It,setup(e,{slots:r}){let u;const o=oe({offset:0,inited:!1,mounted:!1}),{parent:a,index:t}=Me(Le);if(!a)return;const d=T(()=>{const w={},{vertical:l}=a.props;return a.size.value&&(w[l?"height":"width"]=`${a.size.value}px`),o.offset&&(w.transform=`translate${l?"Y":"X"}(${o.offset}px)`),w}),g=T(()=>{const{loop:w,lazyRender:l}=a.props;if(!l||u)return!0;if(!o.mounted)return!1;const c=a.activeIndicator.value,m=a.count.value-1,C=c===0&&w?m:c-1,b=c===m&&w?0:c+1;return u=t.value===c||t.value===C||t.value===b,u}),f=w=>{o.offset=w};return me(()=>{L(()=>{o.mounted=!0})}),G({setOffset:f}),()=>{var w;return y("div",{class:Rt(),style:d.value},[g.value?(w=r.default)==null?void 0:w.call(r):null])}}});const _t=J(Bt),[At,ve]=X("tab"),Pt=_e({},nt,{dot:Boolean,name:H,badge:H,title:String,disabled:Boolean,titleClass:at,titleStyle:[String,Object],showZeroBadge:W});var zt=Z({name:At,props:Pt,setup(e,{slots:r}){const u=De(),o=P(!1),{parent:a,index:t}=Me(Ye);if(!a)return;const d=()=>{var l;return(l=e.name)!=null?l:t.value},g=()=>{o.value=!0,a.props.lazyRender&&L(()=>{a.onRendered(d(),e.title)})},f=T(()=>{const l=d()===a.currentName.value;return l&&!o.value&&g(),l}),w=P(!f.value);return B(f,l=>{l?w.value=!1:j(()=>{w.value=!0})}),B(()=>e.title,()=>{a.setLine(),a.scrollIntoView()}),it(kt,f),()=>{var l;const c=`${a.id}-${t.value}`,{animated:m,swipeable:C,scrollspy:b,lazyRender:k}=a.props;if(!r.default&&!m)return;const v=b||f.value;if(m||C)return y(_t,{id:u,role:"tabpanel",class:ve("panel-wrapper",{inactive:w.value}),tabindex:f.value?0:-1,"aria-hidden":!f.value,"aria-labelledby":c},{default:()=>{var M;return[y("div",{class:ve("panel")},[(M=r.default)==null?void 0:M.call(r)])]}});const U=o.value||b||!k?(l=r.default)==null?void 0:l.call(r):null;return G({id:u}),lt(y("div",{id:u,role:"tabpanel",class:ve("panel"),tabindex:v?0:-1,"aria-labelledby":c},[U]),[[ot,v]])}}});const Dt=J(zt),Nt=J($t);export{Nt as T,Dt as a};
